# 第3步 业务需求

**在Composer中，以文件的形式添加“招标文件”中的功能描述部分**

::: warning
AI 对PDF文件、Word文档之类文件中的结构理解有限，自动罗列的功能清单可能不理想。
所以，必要时，应当把pdf转换成markdown格式，再进行处理。
:::

## 1. 生成一级功能概述

Prompt

<<< @/prompts/step3/1-index.md

## 2. 生成全部一级功能文件    

Prompt

<<< @/prompts/step3/2-title1.md

## 3. 校验一级功能文件

Prompt

<<< @/prompts/step3/2-title1.check.md

## 4. 逐个生成二级功能文件

Prompt

<<< @/prompts/step3/3-functional-requirements.md

::: tip
自此，AI将一个功能一个功能地生成，然后进行检查，并询问你的修改意见，可以随时对其提供修改意见。然后告诉它，如果满意，就继续下一个功能。
:::

::: warning
当然，即使反复检查，也可能有遗漏、错误的地方。如发现，可以随时告诉重新检查后优化，它会调整。

也可以将Prompt的检查部分再次提供给AI，让它进行检查。或者人工对比检查，并告诉它问题所在。

常常需要反复检查，会被遗漏的是：
- 文件内容是否符合我提供的招标文件功能清单中所描述的内容
- 二级功能文件是否通过 `include` 语法插入到一级功能文件中
- 是否存在仅是清单式表述，或表述过简单不具体、没有详细描述的情况，例如：不应当仅表达“关键指标展示”，而应当表达：“关键指标展示，包括：……”
:::

## PS

我反复优化提示词，尝试让它一次性生成，反复删掉重新生成，但效果都不理想。

相对效果好一点的时候，我尝试通过提示词分步骤自动生成，但25次调用之后会停止，需要一直有交互能才继续。

一次性生成的内容较多时，越往后上下文跟不上了，就开始胡言乱语。

所以，我决定还是手动分步骤进行。