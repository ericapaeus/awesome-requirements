# 病虫害情报库

<a href="/diagrams/prototype/6-2-pest-report.html" target="_blank" rel="noopener noreferrer">查看界面原型</a>

### 功能定义

病虫害情报库是一个面向全省植保系统的病虫害情报管理平台，用于搭建安徽省农作物病虫害情报库，制定情报编写标准。支持病虫情报的上传、审核和结构化存储，支持按照时间段、病虫类别、区县等关键词进行检索。情报上传支持综合汇集全省、市、县区域站的病虫情报信息，统一建立编写、审核发布和浏览功能。

### 流程与逻辑

1. 情报编写标准制定流程
   - 省级管理员设置情报模板
   - 定义必填字段和选填字段
   - 设置字段验证规则
   - 制定情报分类标准
   - 发布情报编写指南

2. 情报上传流程
   - 用户选择"新建情报"或"导入情报"
   - 选择情报类别和模板
   - 填写情报基本信息（标题、关键词、作物等）
   - 编写情报正文内容
   - 上传相关附件（Word、Excel、PDF等）
   - 提交审核

3. 情报审核流程
   - 审核人员接收待审核情报
   - 检查内容规范性和完整性
   - 核实情报来源和数据
   - 选择审核结果（通过/退回）
   - 填写审核意见
   - 通过后自动发布

4. 情报检索流程
   - 输入检索关键词
   - 选择筛选条件（时间段、病虫类别、区县等）
   - 系统返回匹配结果
   - 支持结果排序和筛选
   - 查看情报详情

5. 异常处理机制
   - 导入失败：记录失败原因，支持重新导入
   - 格式错误：提示具体错误项，指导修正
   - 审核超时：系统自动提醒相关人员
   - 存储异常：自动备份，确保数据安全

### 数据项

1. 输入数据项

| 编号 | 交互对象 | 输入项 | 定义 | 数据类型 |
|------|----------|--------|------|----------|
| 1 | 编写人员 | 情报标题 | 情报的主题 | 字符串 |
| 2 | 编写人员 | 病虫害类别 | 情报涉及的病虫害类型 | 枚举 |
| 3 | 编写人员 | 作物类型 | 受影响的作物 | 枚举 |
| 4 | 编写人员 | 关键词 | 情报的关键词标签 | 字符串数组 |
| 5 | 编写人员 | 情报内容 | 情报的详细内容 | 富文本 |
| 6 | 编写人员 | 附件 | 相关文档文件 | 文件 |
| 7 | 编写人员 | 发布范围 | 情报的可见范围 | 多选列表 |
| 8 | 审核人员 | 审核结果 | 审核的结果 | 枚举 |
| 9 | 审核人员 | 审核意见 | 审核的具体意见 | 字符串 |

2. 输出数据项

| 编号 | 交互对象 | 输出项 | 定义 | 数据类型 |
|------|----------|--------|------|----------|
| 1 | 查看人员 | 情报列表 | 符合条件的情报列表 | 列表 |
| 2 | 查看人员 | 情报详情 | 情报的完整信息 | 对象 |
| 3 | 审核人员 | 待审核情报 | 需要审核的情报列表 | 列表 |
| 4 | 系统 | 情报状态 | 情报的当前状态 | 枚举 |
| 5 | 系统 | 检索结果 | 符合检索条件的情报 | 列表 |

3. 必填项说明
- 情报标题：必填，不超过200个字符
- 病虫害类别：必填，必须从预定义类别中选择
- 作物类型：必填，必须从预定义类型中选择
- 关键词：必填，至少3个关键词
- 情报内容：必填，不超过50000个字符
- 发布范围：必填，至少选择一个区域

4. 数据规则和约束
- 附件格式：支持Word、Excel、PDF等常用格式
- 附件大小：单个文件不超过50MB
- 情报标题：同一作物同一病虫害不允许重复
- 关键词：每个关键词长度不超过20个字符
- 情报内容：必须包含发生程度、防治建议等要素

### 用户访问权限

1. 系统管理员
   - 管理情报模板
   - 设置情报分类
   - 管理用户权限
   - 查看系统日志

2. 省级用户
   - 制定情报标准
   - 编写省级情报
   - 审核下级情报
   - 查看全省情报
   - 管理本级情报

3. 市级用户
   - 编写市级情报
   - 审核下级情报
   - 查看本市情报
   - 管理本级情报

4. 县级用户
   - 编写县级情报
   - 查看本县情报
   - 管理本级情报

### 界面设计

1. 主界面布局
   - 顶部：功能标题和操作按钮
   - 中部：筛选条件区域
   - 下部：情报列表显示区域

2. 操作区域组成
   - 新建情报按钮
   - 导入情报按钮
   - 搜索框和搜索按钮

3. 筛选条件区域
   - 病虫害类别下拉框
   - 发布时间选择器
   - 发布区域下拉框
   - 状态下拉框

4. 列表显示区域
   - 情报标题和关键信息
   - 病虫害类别
   - 发布区域
   - 发布时间
   - 状态
   - 操作按钮（查看、编辑、归档等）

5. 交互方式
   - 点击标题查看详情
   - 悬停显示操作按钮
   - 分页导航
   - 批量操作
   - 拖拽上传附件

### 招标文件中的原文信息

> 搭建安徽省农作物病虫害情报库，制定情报编写标准。支持病虫情报的上传、审核和结构存储，支持按照时间段、病虫类别、区县等关键词进行检索。情报上传支持综合汇集全省、市、县区域站的病虫情报信息，统一建立编写、审核发布和浏览功能。支持多种格式的情报上传，包括Word、Excel、PDF。 