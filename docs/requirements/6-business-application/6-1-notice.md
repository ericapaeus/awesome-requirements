# 通知公告

<a href="/diagrams/prototype/6-1-notice.html" target="_blank" rel="noopener noreferrer">查看界面原型</a>

### 功能定义

通知公告功能是一个面向全省植保系统的信息发布和交流平台，用于建立省、市、县级通知公告收发体系，支持各级之间文件交流和附件传送。该功能主要用于发布和管理植保相关的通知公告、病虫情报和政策性文件，同时支持下级站点上报病虫害突发情况。

### 流程与逻辑

1. 通知公告发布流程
   - 用户选择"新建通知"，进入通知编辑界面
   - 填写通知基本信息（标题、类型、内容、附件等）
   - 选择发布范围（全省、指定市县）
   - 提交审核
   - 审核通过后发布
   - 系统自动通知相关单位

2. 通知公告审核流程
   - 审核人员收到待审核通知
   - 查看通知内容和附件
   - 选择审核结果（通过/退回）
   - 填写审核意见
   - 系统通知发布人员审核结果

3. 通知公告查看流程
   - 用户登录系统后可查看权限范围内的通知
   - 可按类型、时间、发布单位等条件筛选
   - 可查看通知详情和下载附件
   - 系统记录查看记录

4. 突发情况上报流程
   - 下级站点发现突发情况
   - 填写突发情况报告（包括时间、地点、情况描述、图片等）
   - 选择上报范围
   - 提交上报
   - 系统自动通知相关负责人

5. 异常处理机制
   - 附件上传失败：提示用户重新上传，并说明失败原因
   - 审核超时：系统自动提醒审核人员
   - 发布失败：记录失败原因，允许重新发布
   - 突发情况上报失败：立即通知技术支持人员处理

### 数据项

1. 输入数据项

| 编号 | 交互对象 | 输入项 | 定义 | 数据类型 |
|------|----------|--------|------|----------|
| 1 | 发布人员 | 通知标题 | 通知的主题 | 字符串 |
| 2 | 发布人员 | 通知类型 | 通知的分类（病虫情报/政策文件/突发情况） | 枚举 |
| 3 | 发布人员 | 通知内容 | 通知的详细内容 | 富文本 |
| 4 | 发布人员 | 附件 | 通知相关的文件 | 文件 |
| 5 | 发布人员 | 发布范围 | 通知的接收单位范围 | 多选列表 |
| 6 | 审核人员 | 审核结果 | 审核的结果（通过/退回） | 枚举 |
| 7 | 审核人员 | 审核意见 | 审核的具体意见 | 字符串 |

2. 输出数据项

| 编号 | 交互对象 | 输出项 | 定义 | 数据类型 |
|------|----------|--------|------|----------|
| 1 | 查看人员 | 通知列表 | 符合条件的通知列表 | 列表 |
| 2 | 查看人员 | 通知详情 | 通知的完整信息 | 对象 |
| 3 | 审核人员 | 待审核通知 | 需要审核的通知列表 | 列表 |
| 4 | 系统 | 通知状态 | 通知的当前状态 | 枚举 |
| 5 | 系统 | 操作结果 | 各类操作的执行结果 | 布尔值 |

3. 必填项说明
- 通知标题：必填，不超过100个字符
- 通知类型：必填，必须从预定义类型中选择
- 通知内容：必填，不超过10000个字符
- 发布范围：必填，至少选择一个接收单位
- 审核结果：必填，必须选择通过或退回
- 审核意见：审核结果为退回时必填

4. 数据规则和约束
- 附件大小：单个文件不超过20MB，总大小不超过100MB
- 附件格式：支持doc、docx、pdf、jpg、png等常用格式
- 通知标题：不允许重复
- 发布范围：只能选择本级及下级单位
- 突发情况：必须包含图片等证明材料

### 用户访问权限

1. 系统管理员
   - 管理通知类型
   - 管理用户权限
   - 查看系统日志

2. 省级用户
   - 发布全省范围通知
   - 审核下级通知
   - 查看全省通知
   - 管理本级通知

3. 市级用户
   - 发布本市范围通知
   - 审核下级通知
   - 查看本市通知
   - 管理本级通知
   - 向上级上报突发情况

4. 县级用户
   - 发布本县范围通知
   - 查看本县通知
   - 管理本级通知
   - 向上级上报突发情况

### 界面设计

1. 主界面布局
   - 顶部：功能标题和操作按钮
   - 中部：筛选条件区域
   - 下部：通知列表显示区域

2. 操作区域组成
   - 新建通知按钮
   - 批量导入按钮
   - 搜索框和搜索按钮

3. 筛选条件区域
   - 通知类型下拉框
   - 发布时间选择器
   - 发布单位下拉框
   - 状态下拉框

4. 列表显示区域
   - 通知标题
   - 通知类型
   - 发布单位
   - 发布时间
   - 状态
   - 操作按钮（查看、编辑、撤回等）

5. 交互方式
   - 点击标题查看详情
   - 悬停显示操作按钮
   - 分页导航
   - 批量操作
   - 拖拽上传附件

### 招标文件中的原文信息

> 建立省、市、县级通知公告收发体系，支持各级之间文件交流，附件传送等功能。支持省级植保站向全省内各市、县区域站点下发通知公告等内容。支持病虫情报和政策性文件的接收和发送；支持下级站点上报病虫害突发情况。支持通知公告的编辑、审核和发布。 